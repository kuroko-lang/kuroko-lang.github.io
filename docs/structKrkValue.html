<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="generator" content="Doxygen 1.8.17"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="tabs-override.css">
    <link rel="stylesheet" href="doxy.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <title>Docs | Kuroko</title>
    <script src="/src-min/ace.js"></script>
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
  </head>
  <body>
  <!-- Bootstrap nav bar -->
    <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
      <div class="container-fluid">
        <div class="collapse navbar-collapse" id="navbarCollapse">
          <ul class="navbar-nav ms-auto mb-2 mb-md-0">
            <li class="nav-item">
              <a class="nav-link force-cursor" href="/?r=y&c=tutorial()">Tutorial</a>
            </li>
            <li class="nav-item">
              <a class="nav-link force-cursor" href="/ide/">IDE</a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="/" id="navbarDropdown">
                Examples
              </a>
            </li>
          </ul>
        </div>
        <div class="mx-auto order-0" style="padding-left: 2rem; padding-right: 2rem">
          <a class="navbar-brand" href="/">
            <img src="/logo.png" style="height: 2rem; padding-right: 0.5rem;">
            Kuroko
          </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
        </div>
        <div class="collapse navbar-collapse" id="navbarCollapse">
          <ul class="navbar-nav me-auto mb-2 mb-md-0">
            <li class="nav-item">
              <a class="nav-link" href="https://github.com/kuroko-lang/kuroko">Github</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="https://github.com/kuroko-lang/kuroko/releases">Downloads</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="/docs/">Docs</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- End Bootstrap nav bar -->
    <main class="order-1 container" id="main-content">
      <div id="top">
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">KrkValue Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Stack reference or primative value.  
 <a href="structKrkValue.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="value_8h_source.html">value.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa187b64b8840682537bf2fdb7ec13f97"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structKrkValue.html#aa187b64b8840682537bf2fdb7ec13f97">krk_hashValue</a> (<a class="el" href="structKrkValue.html">KrkValue</a> value)</td></tr>
<tr class="memdesc:aa187b64b8840682537bf2fdb7ec13f97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the hash for a value.  <a href="structKrkValue.html#aa187b64b8840682537bf2fdb7ec13f97">More...</a><br /></td></tr>
<tr class="separator:aa187b64b8840682537bf2fdb7ec13f97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d3945ff31d805a2a9e11b9765ece7ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structKrkValue.html#a6d3945ff31d805a2a9e11b9765ece7ba">krk_printValue</a> (FILE *f, <a class="el" href="structKrkValue.html">KrkValue</a> value)</td></tr>
<tr class="memdesc:a6d3945ff31d805a2a9e11b9765ece7ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print a string representation of a value.  <a href="structKrkValue.html#a6d3945ff31d805a2a9e11b9765ece7ba">More...</a><br /></td></tr>
<tr class="separator:a6d3945ff31d805a2a9e11b9765ece7ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac008451142bcc182fb64af125bcf635d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structKrkValue.html#ac008451142bcc182fb64af125bcf635d">krk_printValueSafe</a> (FILE *f, <a class="el" href="structKrkValue.html">KrkValue</a> value)</td></tr>
<tr class="memdesc:ac008451142bcc182fb64af125bcf635d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print a value without calling the VM.  <a href="structKrkValue.html#ac008451142bcc182fb64af125bcf635d">More...</a><br /></td></tr>
<tr class="separator:ac008451142bcc182fb64af125bcf635d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2abba7eee757ed81d8529431321ed70d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structKrkValue.html#a2abba7eee757ed81d8529431321ed70d">krk_valuesEqual</a> (<a class="el" href="structKrkValue.html">KrkValue</a> a, <a class="el" href="structKrkValue.html">KrkValue</a> b)</td></tr>
<tr class="memdesc:a2abba7eee757ed81d8529431321ed70d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compare two values for equality.  <a href="structKrkValue.html#a2abba7eee757ed81d8529431321ed70d">More...</a><br /></td></tr>
<tr class="separator:a2abba7eee757ed81d8529431321ed70d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a874e42a5367b49a012a592e2fb8fb0b7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structKrkValue.html#a874e42a5367b49a012a592e2fb8fb0b7">krk_valuesSame</a> (<a class="el" href="structKrkValue.html">KrkValue</a> a, <a class="el" href="structKrkValue.html">KrkValue</a> b)</td></tr>
<tr class="memdesc:a874e42a5367b49a012a592e2fb8fb0b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compare two values by identity.  <a href="structKrkValue.html#a874e42a5367b49a012a592e2fb8fb0b7">More...</a><br /></td></tr>
<tr class="separator:a874e42a5367b49a012a592e2fb8fb0b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07c5e8c5653bff1b6fc876cc24b0ff15"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structKrkValue.html#a07c5e8c5653bff1b6fc876cc24b0ff15">krk_typeName</a> (<a class="el" href="structKrkValue.html">KrkValue</a> value)</td></tr>
<tr class="memdesc:a07c5e8c5653bff1b6fc876cc24b0ff15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the name of the type of a value.  <a href="structKrkValue.html#a07c5e8c5653bff1b6fc876cc24b0ff15">More...</a><br /></td></tr>
<tr class="separator:a07c5e8c5653bff1b6fc876cc24b0ff15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90c39750739d3cd3ffd1347f3cb97015"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structKrkClass.html">KrkClass</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structKrkValue.html#a90c39750739d3cd3ffd1347f3cb97015">krk_getType</a> (<a class="el" href="structKrkValue.html">KrkValue</a> value)</td></tr>
<tr class="memdesc:a90c39750739d3cd3ffd1347f3cb97015"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the class representing a value.  <a href="structKrkValue.html#a90c39750739d3cd3ffd1347f3cb97015">More...</a><br /></td></tr>
<tr class="separator:a90c39750739d3cd3ffd1347f3cb97015"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a267ad31fd0a9c3ddfd65805ba0a60d96"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structKrkValue.html#a267ad31fd0a9c3ddfd65805ba0a60d96">krk_isInstanceOf</a> (<a class="el" href="structKrkValue.html">KrkValue</a> obj, <a class="el" href="structKrkClass.html">KrkClass</a> *type)</td></tr>
<tr class="memdesc:a267ad31fd0a9c3ddfd65805ba0a60d96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if a class is an instance or subclass of a given type.  <a href="structKrkValue.html#a267ad31fd0a9c3ddfd65805ba0a60d96">More...</a><br /></td></tr>
<tr class="separator:a267ad31fd0a9c3ddfd65805ba0a60d96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d42a4f280a6ccd9994f7ce3d8500a35"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structKrkValue.html#a1d42a4f280a6ccd9994f7ce3d8500a35">krk_callValue</a> (<a class="el" href="structKrkValue.html">KrkValue</a> callee, int argCount, int extra)</td></tr>
<tr class="memdesc:a1d42a4f280a6ccd9994f7ce3d8500a35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call a callable value in the current stack context.  <a href="structKrkValue.html#a1d42a4f280a6ccd9994f7ce3d8500a35">More...</a><br /></td></tr>
<tr class="separator:a1d42a4f280a6ccd9994f7ce3d8500a35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa79239e6ace07679bc61cd33318b3318"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structKrkValue.html">KrkValue</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structKrkValue.html#aa79239e6ace07679bc61cd33318b3318">krk_callSimple</a> (<a class="el" href="structKrkValue.html">KrkValue</a> value, int argCount, int isMethod)</td></tr>
<tr class="memdesc:aa79239e6ace07679bc61cd33318b3318"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call a callable and manage VM state to obtain the return value.  <a href="structKrkValue.html#aa79239e6ace07679bc61cd33318b3318">More...</a><br /></td></tr>
<tr class="separator:aa79239e6ace07679bc61cd33318b3318"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade554b36ef7d3c8789db59062001fa07"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structKrkValue.html#ade554b36ef7d3c8789db59062001fa07">krk_isFalsey</a> (<a class="el" href="structKrkValue.html">KrkValue</a> value)</td></tr>
<tr class="memdesc:ade554b36ef7d3c8789db59062001fa07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the truth of a value.  <a href="structKrkValue.html#ade554b36ef7d3c8789db59062001fa07">More...</a><br /></td></tr>
<tr class="separator:ade554b36ef7d3c8789db59062001fa07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5581905a34dc5420e3cd580303fab2e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structKrkValue.html">KrkValue</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structKrkValue.html#ab5581905a34dc5420e3cd580303fab2e">krk_valueGetAttribute</a> (<a class="el" href="structKrkValue.html">KrkValue</a> value, char *name)</td></tr>
<tr class="memdesc:ab5581905a34dc5420e3cd580303fab2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain a property of an object by name.  <a href="structKrkValue.html#ab5581905a34dc5420e3cd580303fab2e">More...</a><br /></td></tr>
<tr class="separator:ab5581905a34dc5420e3cd580303fab2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14b4185c5adca0ec4e4b9a656fc3df5e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structKrkValue.html">KrkValue</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structKrkValue.html#a14b4185c5adca0ec4e4b9a656fc3df5e">krk_valueSetAttribute</a> (<a class="el" href="structKrkValue.html">KrkValue</a> owner, char *name, <a class="el" href="structKrkValue.html">KrkValue</a> to)</td></tr>
<tr class="memdesc:a14b4185c5adca0ec4e4b9a656fc3df5e"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structSet.html" title="Mutable unordered set of values.">Set</a> a property of an object by name.  <a href="structKrkValue.html#a14b4185c5adca0ec4e4b9a656fc3df5e">More...</a><br /></td></tr>
<tr class="separator:a14b4185c5adca0ec4e4b9a656fc3df5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:ad2c2c4a956f775c12eb3ddc5a7fc7b62"><td class="memItemLeft" align="right" valign="top"><a id="ad2c2c4a956f775c12eb3ddc5a7fc7b62"></a>
<a class="el" href="value_8h.html#a50e8074e590357d82386d513c5272575">KrkValueType</a>&#160;</td><td class="memItemRight" valign="bottom"><b>type</b></td></tr>
<tr class="separator:ad2c2c4a956f775c12eb3ddc5a7fc7b62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ae098c9944c967e247a070a5703301b"><td class="memItemLeft" ><a id="a3ae098c9944c967e247a070a5703301b"></a>
union {</td></tr>
<tr class="memitem:a7897b16abf3d9ac5dba1cb157845de12"><td class="memItemLeft" >
&#160;&#160;&#160;char&#160;&#160;&#160;<b>boolean</b></td></tr>
<tr class="separator:a7897b16abf3d9ac5dba1cb157845de12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08f7fa83292363a6a462a88ab1f14e27"><td class="memItemLeft" >
&#160;&#160;&#160;krk_integer_type&#160;&#160;&#160;<b>integer</b></td></tr>
<tr class="separator:a08f7fa83292363a6a462a88ab1f14e27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba168369334dd31571e78f8d48b7a581"><td class="memItemLeft" >
&#160;&#160;&#160;double&#160;&#160;&#160;<b>floating</b></td></tr>
<tr class="separator:aba168369334dd31571e78f8d48b7a581"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef4c96b85f58f6c103973d4bec1fa038"><td class="memItemLeft" >
&#160;&#160;&#160;<a class="el" href="structKrkJumpTarget.html">KrkJumpTarget</a>&#160;&#160;&#160;<b>handler</b></td></tr>
<tr class="separator:aef4c96b85f58f6c103973d4bec1fa038"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a175241b66a3490fcd415246f6e4086a1"><td class="memItemLeft" >
&#160;&#160;&#160;<a class="el" href="structKrkObj.html">KrkObj</a> *&#160;&#160;&#160;<b>object</b></td></tr>
<tr class="separator:a175241b66a3490fcd415246f6e4086a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ae098c9944c967e247a070a5703301b"><td class="memItemLeft" valign="top">}&#160;</td><td class="memItemRight" valign="bottom"><b>as</b></td></tr>
<tr class="separator:a3ae098c9944c967e247a070a5703301b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Stack reference or primative value. </p>
<p>This type stores a stack reference to an object, or the contents of a primitive type. Each VM thread's stack consists of an array of these values, and they are generally passed around in the VM through direct copying rather than as pointers, avoiding the need to track memory used by them.</p>
<p>Each value is a tagged union with a type (see the enum KrkValueType) and its contents. </p>

<p class="definition">Definition at line <a class="el" href="value_8h_source.html#l00065">65</a> of file <a class="el" href="value_8h_source.html">value.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="aa79239e6ace07679bc61cd33318b3318"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa79239e6ace07679bc61cd33318b3318">&#9670;&nbsp;</a></span>krk_callSimple()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structKrkValue.html">KrkValue</a> krk_callSimple </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structKrkValue.html">KrkValue</a>&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>isMethod</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call a callable and manage VM state to obtain the return value. </p>
<p>This is a wrapper around various mechanisms including krk_callValue intended for use by C extensions to call arbitrary functions without knowledge of their implementation details. See the notes for <code>krk_callValue</code> 's <code>extra</code> paramater for details on how <code>isMethod</code> is used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>Callable object reference. </td></tr>
    <tr><td class="paramname">argCount</td><td>Arguments to collect from the stack. </td></tr>
    <tr><td class="paramname">isMethod</td><td>This should almost always be 0. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The return value of the function. </dd></dl>

<p class="definition">Definition at line <a class="el" href="vm_8c_source.html#l00887">887</a> of file <a class="el" href="vm_8c_source.html">vm.c</a>.</p>

</div>
</div>
<a id="a1d42a4f280a6ccd9994f7ce3d8500a35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d42a4f280a6ccd9994f7ce3d8500a35">&#9670;&nbsp;</a></span>krk_callValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int krk_callValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structKrkValue.html">KrkValue</a>&#160;</td>
          <td class="paramname"><em>callee</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>extra</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call a callable value in the current stack context. </p>
<p>Executes the given callable object (function, bound method, object with a <code>__call__()</code> method, etc.) using <code>argCount</code> arguments from the stack.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callee</td><td>Value referencing a callable object. </td></tr>
    <tr><td class="paramname">argCount</td><td>Arguments to retreive from stack. </td></tr>
    <tr><td class="paramname">extra</td><td>Whether extra arguments below argCount should be considered as part of this call frame. Generally, when this is 1, the value below the arguments is the callable object. Most library users will want to leave this as 0 when calling normal functions, bound method objects, or ubound methods when the instance is included in the arguments already. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An indicator of how the result should be obtained: 1: The VM must be resumed to run managed code. 2: The callable was a native function and result should be popped now. Else: The call failed. An exception may have already been set. </dd></dl>

<p class="definition">Definition at line <a class="el" href="vm_8c_source.html#l00802">802</a> of file <a class="el" href="vm_8c_source.html">vm.c</a>.</p>

</div>
</div>
<a id="a90c39750739d3cd3ffd1347f3cb97015"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90c39750739d3cd3ffd1347f3cb97015">&#9670;&nbsp;</a></span>krk_getType()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structKrkClass.html">KrkClass</a> * krk_getType </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structKrkValue.html">KrkValue</a>&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the class representing a value. </p>
<p>Returns the class object representing the type of a value. This may be the direct class of an instance, or a pseudoclass for other value types.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>Reference value to examine. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the value's type's class object. </dd></dl>

<p class="definition">Definition at line <a class="el" href="vm_8c_source.html#l00461">461</a> of file <a class="el" href="vm_8c_source.html">vm.c</a>.</p>

</div>
</div>
<a id="aa187b64b8840682537bf2fdb7ec13f97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa187b64b8840682537bf2fdb7ec13f97">&#9670;&nbsp;</a></span>krk_hashValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t krk_hashValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structKrkValue.html">KrkValue</a>&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the hash for a value. </p>
<p>Retreives or calculates the hash value for 'value'.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>Value to hash. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An unsigned 32-bit hash value. </dd></dl>

<p class="definition">Definition at line <a class="el" href="table_8c_source.html#l00024">24</a> of file <a class="el" href="table_8c_source.html">table.c</a>.</p>

</div>
</div>
<a id="ade554b36ef7d3c8789db59062001fa07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade554b36ef7d3c8789db59062001fa07">&#9670;&nbsp;</a></span>krk_isFalsey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int krk_isFalsey </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structKrkValue.html">KrkValue</a>&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine the truth of a value. </p>
<p>Determines if a value represents a "falsey" value. Empty collections, 0-length strings, False, numeric 0, None, etc. are "falsey". Other values are generally "truthy".</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>Value to examine. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if falsey, 0 if truthy </dd></dl>

<p class="definition">Definition at line <a class="el" href="vm_8c_source.html#l01006">1006</a> of file <a class="el" href="vm_8c_source.html">vm.c</a>.</p>

</div>
</div>
<a id="a267ad31fd0a9c3ddfd65805ba0a60d96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a267ad31fd0a9c3ddfd65805ba0a60d96">&#9670;&nbsp;</a></span>krk_isInstanceOf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int krk_isInstanceOf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structKrkValue.html">KrkValue</a>&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structKrkClass.html">KrkClass</a> *&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine if a class is an instance or subclass of a given type. </p>
<p>Searches the class hierarchy of the given value to determine if it is a subtype of <code>type</code>. As this chains through the inheritence tree, the more deeply subclassed <code>obj</code> is, the longer it may take to determine if it is a subtype of <code>type</code>. All types should eventually be subtypes of the <a class="el" href="mod___builtins__.html#object">object</a> type, so this condition should not be checked. For some types, convenience macros are available. If you need to check if <code>obj</code> is a specific type, exclusive of subtypes, look at <code><a class="el" href="structKrkValue.html#a90c39750739d3cd3ffd1347f3cb97015" title="Get the class representing a value.">krk_getType()</a></code> instead of using this function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>Value to examine. </td></tr>
    <tr><td class="paramname">type</td><td>Class object to test for membership of. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if <code>obj</code> is an instance of <code>type</code> or of a subclass of <code>type</code> </dd></dl>

<p class="definition">Definition at line <a class="el" href="vm_8c_source.html#l00506">506</a> of file <a class="el" href="vm_8c_source.html">vm.c</a>.</p>

</div>
</div>
<a id="a6d3945ff31d805a2a9e11b9765ece7ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d3945ff31d805a2a9e11b9765ece7ba">&#9670;&nbsp;</a></span>krk_printValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void krk_printValue </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structKrkValue.html">KrkValue</a>&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print a string representation of a value. </p>
<p>Print a string representation of 'value' to the stream 'f'. For primitives, performs appropriate formatting. For objects, this will call <b>str</b> on the object's representative type. If the type does not have a <b>str</b> method, <b>repr</b> will be tried before falling back to krk_typeName to directly print the name of the class with no information on the value.</p>
<p>This function provides the backend for the print() built-in.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>Stream to write to. </td></tr>
    <tr><td class="paramname">value</td><td>Value to display. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="value_8c_source.html#l00030">30</a> of file <a class="el" href="value_8c_source.html">value.c</a>.</p>

</div>
</div>
<a id="ac008451142bcc182fb64af125bcf635d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac008451142bcc182fb64af125bcf635d">&#9670;&nbsp;</a></span>krk_printValueSafe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void krk_printValueSafe </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structKrkValue.html">KrkValue</a>&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print a value without calling the VM. </p>
<p>Print a string representation of 'value' to the stream 'f', avoiding calls to managed code by using simplified representations where necessary. This is intended for use in debugging code, such as during disassembly, or when printing values in an untrusted context.</p>
<dl class="section note"><dt>Note</dt><dd>This function will truncate long strings and print them in a form closer to the 'repr()' representation, with escaped bytes, rather than directly printing them to the stream.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>Stream to write to. </td></tr>
    <tr><td class="paramname">value</td><td>Value to display. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="value_8c_source.html#l00049">49</a> of file <a class="el" href="value_8c_source.html">value.c</a>.</p>

</div>
</div>
<a id="a07c5e8c5653bff1b6fc876cc24b0ff15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07c5e8c5653bff1b6fc876cc24b0ff15">&#9670;&nbsp;</a></span>krk_typeName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * krk_typeName </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structKrkValue.html">KrkValue</a>&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the name of the type of a value. </p>
<p>Obtains the C string representing the name of the class associated with the given value. Useful for crafting exception messages, such as those describing TypeErrors.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>Value to examine </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nul-terminated C string of the type of <code>value</code> </dd></dl>

<p class="definition">Definition at line <a class="el" href="vm_8c_source.html#l01331">1331</a> of file <a class="el" href="vm_8c_source.html">vm.c</a>.</p>

</div>
</div>
<a id="ab5581905a34dc5420e3cd580303fab2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5581905a34dc5420e3cd580303fab2e">&#9670;&nbsp;</a></span>krk_valueGetAttribute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structKrkValue.html">KrkValue</a> krk_valueGetAttribute </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structKrkValue.html">KrkValue</a>&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtain a property of an object by name. </p>
<p>This is a convenience function that works in essentially the same way as the OP_GET_PROPERTY instruction.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>Value to examine. </td></tr>
    <tr><td class="paramname">name</td><td>C-string of the property name to query. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The requested property, or None with an <a class="el" href="mod___builtins__.html#AttributeError">AttributeError</a> exception set in the current thread if the attribute was not found. </dd></dl>

<p class="definition">Definition at line <a class="el" href="vm_8c_source.html#l01789">1789</a> of file <a class="el" href="vm_8c_source.html">vm.c</a>.</p>

</div>
</div>
<a id="a2abba7eee757ed81d8529431321ed70d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2abba7eee757ed81d8529431321ed70d">&#9670;&nbsp;</a></span>krk_valuesEqual()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int krk_valuesEqual </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structKrkValue.html">KrkValue</a>&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structKrkValue.html">KrkValue</a>&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compare two values for equality. </p>
<p>Performs a relaxed equality comparison between two values, check for equivalence by contents. This may call managed code to run <b>eq</b> methods.</p>
<dl class="section return"><dt>Returns</dt><dd>1 if values are equivalent, 0 otherwise. </dd></dl>

</div>
</div>
<a id="a14b4185c5adca0ec4e4b9a656fc3df5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14b4185c5adca0ec4e4b9a656fc3df5e">&#9670;&nbsp;</a></span>krk_valueSetAttribute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structKrkValue.html">KrkValue</a> krk_valueSetAttribute </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structKrkValue.html">KrkValue</a>&#160;</td>
          <td class="paramname"><em>owner</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structKrkValue.html">KrkValue</a>&#160;</td>
          <td class="paramname"><em>to</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="structSet.html" title="Mutable unordered set of values.">Set</a> a property of an object by name. </p>
<p>This is a convenience function that works in essentially the same way as the OP_SET_PROPERTY instruction.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">owner</td><td>The owner of the property to modify. </td></tr>
    <tr><td class="paramname">name</td><td>C-string of the property name to modify. </td></tr>
    <tr><td class="paramname">to</td><td>The value to assign. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The set value, or None with an <a class="el" href="mod___builtins__.html#AttributeError">AttributeError</a> exception set in the current thread if the object can not have a property set. </dd></dl>

<p class="definition">Definition at line <a class="el" href="vm_8c_source.html#l01886">1886</a> of file <a class="el" href="vm_8c_source.html">vm.c</a>.</p>

</div>
</div>
<a id="a874e42a5367b49a012a592e2fb8fb0b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a874e42a5367b49a012a592e2fb8fb0b7">&#9670;&nbsp;</a></span>krk_valuesSame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int krk_valuesSame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structKrkValue.html">KrkValue</a>&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structKrkValue.html">KrkValue</a>&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compare two values by identity. </p>
<p>Performs a strict comparison between two values, comparing their identities. For primitive values, this is generally the same as comparing by equality. For objects, this compares pointer values directly.</p>
<dl class="section return"><dt>Returns</dt><dd>1 if values represent the same object or value, 0 otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="value_8c_source.html#l00130">130</a> of file <a class="el" href="value_8c_source.html">value.c</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li>src/<a class="el" href="value_8h_source.html">value.h</a></li>
<li>src/<a class="el" href="table_8h_source.html">table.h</a></li>
<li>src/<a class="el" href="vm_8h_source.html">vm.h</a></li>
</ul>
</div><!-- contents -->
      <footer class="container text-center mb-3">
        <p class="mb-0">Copyright 2020-2021 <a href="https://github.com/klange">K. Lange</a></p>
        <p class="mb-0">Generated by <a href="http://www.doxygen.org/index.html"><img class="footer" style="height: 20px;" src="doxygen.png" alt="doxygen"/></a> 1.8.17</p>
      </footer>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
  </body>
</html>
