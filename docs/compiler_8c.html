<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="generator" content="Doxygen 1.9.1"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="tabs-override.css">
    <link rel="stylesheet" href="doxy.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <title>Docs | Kuroko</title>
    <script src="/src-min/ace.js"></script>
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
  </head>
  <body>
  <!-- Bootstrap nav bar -->
    <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
      <div class="container-fluid">
        <div class="collapse navbar-collapse" id="navbarCollapse">
          <ul class="navbar-nav ms-auto mb-2 mb-md-0">
            <li class="nav-item">
              <a class="nav-link force-cursor" href="/?r=y&c=tutorial()">Tutorial</a>
            </li>
            <li class="nav-item">
              <a class="nav-link force-cursor" href="/ide/">IDE</a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="/" id="navbarDropdown">
                Examples
              </a>
            </li>
          </ul>
        </div>
        <div class="mx-auto order-0" style="padding-left: 2rem; padding-right: 2rem">
          <a class="navbar-brand" href="/">
            <img src="/logo.png" style="height: 2rem; padding-right: 0.5rem;">
            Kuroko
          </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
        </div>
        <div class="collapse navbar-collapse" id="navbarCollapse">
          <ul class="navbar-nav me-auto mb-2 mb-md-0">
            <li class="nav-item">
              <a class="nav-link" href="https://github.com/kuroko-lang/kuroko">Github</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="https://github.com/kuroko-lang/kuroko/releases">Downloads</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="/docs/">Docs</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- End Bootstrap nav bar -->
    <main class="order-1 container" id="main-content">
      <div id="top">
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">compiler.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Single-pass bytecode compiler.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;assert.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;<a class="el" href="kuroko_8h_source.html">kuroko/kuroko.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="compiler_8h_source.html">kuroko/compiler.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="memory_8h_source.html">kuroko/memory.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="scanner_8h_source.html">kuroko/scanner.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="object_8h_source.html">kuroko/object.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="debug_8h_source.html">kuroko/debug.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="vm_8h_source.html">kuroko/vm.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="util_8h_source.html">kuroko/util.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="private_8h_source.html">private.h</a>&quot;</code><br />
<code>#include &quot;opcode_enum.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for compiler.c:</div>
<div class="dyncontent">
<div class="center"><img src="compiler_8c__incl.png" border="0" usemap="#asrc_2compiler_8c" alt=""/></div>
<map name="asrc_2compiler_8c" id="asrc_2compiler_8c">
<area shape="rect" title="Single&#45;pass bytecode compiler." alt="" coords="841,5,953,32"/>
<area shape="rect" title=" " alt="" coords="5,80,80,107"/>
<area shape="rect" title=" " alt="" coords="367,453,433,480"/>
<area shape="rect" title=" " alt="" coords="442,528,513,555"/>
<area shape="rect" title=" " alt="" coords="1157,453,1227,480"/>
<area shape="rect" title=" " alt="" coords="1117,229,1213,256"/>
<area shape="rect" href="kuroko_8h.html" title="Top&#45;level header with configuration macros." alt="" coords="723,453,847,480"/>
<area shape="rect" href="compiler_8h.html" title="Exported methods for the source compiler." alt="" coords="573,155,710,181"/>
<area shape="rect" href="object_8h.html" title="Struct definitions for core object types." alt="" coords="515,229,589,256"/>
<area shape="rect" href="memory_8h.html" title="Functions for dealing with garbage collection and memory allocation." alt="" coords="414,155,549,181"/>
<area shape="rect" href="scanner_8h.html" title="Definitions used by the token scanner." alt="" coords="1504,80,1635,107"/>
<area shape="rect" href="debug_8h.html" title="Functions for debugging bytecode execution." alt="" coords="837,80,958,107"/>
<area shape="rect" href="vm_8h.html" title="Core API for the bytecode virtual machine." alt="" coords="887,155,942,181"/>
<area shape="rect" href="util_8h.html" title="Utilities for creating native bindings." alt="" coords="658,80,761,107"/>
<area shape="rect" href="private_8h.html" title="Internal header." alt="" coords="1288,80,1368,107"/>
<area shape="rect" href="opcode__enum_8h_source.html" title=" " alt="" coords="1659,80,1784,107"/>
<area shape="rect" title=" " alt="" coords="575,528,646,555"/>
<area shape="rect" title=" " alt="" coords="671,528,745,555"/>
<area shape="rect" title=" " alt="" coords="770,528,857,555"/>
<area shape="rect" title=" " alt="" coords="881,528,948,555"/>
<area shape="rect" href="value_8h.html" title="Definitions for primitive stack references." alt="" coords="750,379,821,405"/>
<area shape="rect" href="chunk_8h.html" title="Structures and enums for bytecode chunks." alt="" coords="969,304,1042,331"/>
<area shape="rect" href="table_8h.html" title="Implementation of a generic hash table." alt="" coords="519,304,585,331"/>
<area shape="rect" title=" " alt="" coords="155,453,239,480"/>
<area shape="rect" href="threads_8h.html" title="Convience header for providing atomic operations to threads." alt="" coords="205,379,288,405"/>
<area shape="rect" title=" " alt="" coords="264,453,336,480"/>
<area shape="rect" title=" " alt="" coords="664,229,739,256"/>
<area shape="rect" title=" " alt="" coords="763,229,827,256"/>
<area shape="rect" title=" " alt="" coords="851,229,941,256"/>
<area shape="rect" href="methods_8h_source.html" title=" " alt="" coords="1339,155,1429,181"/>
<area shape="rect" href="opcodes_8h_source.html" title=" " alt="" coords="1677,155,1765,181"/>
</map>
</div>
</div>
<p><a href="compiler_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structParser.html">Parser</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Token parser state.  <a href="structParser.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structParseRule.html">ParseRule</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse rule table entry.  <a href="structParseRule.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structLocal.html">Local</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structLocal.html" title="Local variable reference.">Local</a> variable reference.  <a href="structLocal.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structUpvalue.html">Upvalue</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closure upvalue reference.  <a href="structUpvalue.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structIndexWithNext.html">IndexWithNext</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Linked list of indices.  <a href="structIndexWithNext.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structLoopExit.html">LoopExit</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tracks 'break' and 'continue' statements.  <a href="structLoopExit.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCompiler.html">Compiler</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subcompiler state.  <a href="structCompiler.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structClassCompiler.html">ClassCompiler</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class compilation context.  <a href="structClassCompiler.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkRecorder.html">ChunkRecorder</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bytecode emitter backtracking breadcrumb.  <a href="structChunkRecorder.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structRewindState.html">RewindState</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structCompiler.html" title="Subcompiler state.">Compiler</a> emit and parse state prior to this expression.  <a href="structRewindState.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structGlobalState.html">GlobalState</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ae83df8b53541debd6d3c826413a63625"><td class="memItemLeft" align="right" valign="top"><a id="ae83df8b53541debd6d3c826413a63625"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>OPTIONS_FLAG_COMPILE_TIME_BUILTINS</b>&#160;&#160;&#160;(1 &lt;&lt; 0)</td></tr>
<tr class="separator:ae83df8b53541debd6d3c826413a63625"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af03e1e524d11c593c602aa0b34e2677d"><td class="memItemLeft" align="right" valign="top"><a id="af03e1e524d11c593c602aa0b34e2677d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>OPTIONS_FLAG_NO_IMPLICIT_SELF</b>&#160;&#160;&#160;(1 &lt;&lt; 1)</td></tr>
<tr class="separator:af03e1e524d11c593c602aa0b34e2677d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b54f2cabbdfa0d5ed437d3746209e12"><td class="memItemLeft" align="right" valign="top"><a id="a7b54f2cabbdfa0d5ed437d3746209e12"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>currentChunk</b>()&#160;&#160;&#160;(&amp;state-&gt;current-&gt;codeobject-&gt;chunk)</td></tr>
<tr class="separator:a7b54f2cabbdfa0d5ed437d3746209e12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7edc3c2e7b191b6c3d34dcc8ec523987"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>EMIT_OPERAND_OP</b>(opc,  arg)</td></tr>
<tr class="separator:a7edc3c2e7b191b6c3d34dcc8ec523987"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a196e029eb2adc9808b1e6928e3e1ce23"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>WRITE</b>(s)</td></tr>
<tr class="separator:a196e029eb2adc9808b1e6928e3e1ce23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24a742a715a9dbe2cb517df0ca218d47"><td class="memItemLeft" align="right" valign="top"><a id="a24a742a715a9dbe2cb517df0ca218d47"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>raiseSyntaxError</b>(token, ...)&#160;&#160;&#160;do { if (state-&gt;parser.hadError) break; <a class="el" href="vm_8h.html#a91c57f379018d1ce7efca0a406e35431">krk_runtimeError</a>(vm.exceptions-&gt;syntaxError, __VA_ARGS__); finishError(state,token); } while (0)</td></tr>
<tr class="separator:a24a742a715a9dbe2cb517df0ca218d47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a259aac00ed43fd7ac58196b770963525"><td class="memItemLeft" align="right" valign="top"><a id="a259aac00ed43fd7ac58196b770963525"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>error</b>(...)&#160;&#160;&#160;raiseSyntaxError(&amp;state-&gt;parser.previous, __VA_ARGS__)</td></tr>
<tr class="separator:a259aac00ed43fd7ac58196b770963525"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98176ac05ecd75c009723d5a6d4a12dd"><td class="memItemLeft" align="right" valign="top"><a id="a98176ac05ecd75c009723d5a6d4a12dd"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>errorAtCurrent</b>(...)&#160;&#160;&#160;raiseSyntaxError(&amp;state-&gt;parser.current, __VA_ARGS__)</td></tr>
<tr class="separator:a98176ac05ecd75c009723d5a6d4a12dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b42fa230acd690e465f6e64ac8bd979"><td class="memItemLeft" align="right" valign="top"><a id="a1b42fa230acd690e465f6e64ac8bd979"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>advance</b>()&#160;&#160;&#160;_advance(state)</td></tr>
<tr class="separator:a1b42fa230acd690e465f6e64ac8bd979"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f782afa55fc6aefa9fda476f16738bd"><td class="memItemLeft" align="right" valign="top"><a id="a0f782afa55fc6aefa9fda476f16738bd"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>skipToEnd</b>()&#160;&#160;&#160;_skipToEnd(state)</td></tr>
<tr class="separator:a0f782afa55fc6aefa9fda476f16738bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae2488ff1109255657e7c470a0a25de1"><td class="memItemLeft" align="right" valign="top"><a id="aae2488ff1109255657e7c470a0a25de1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>startEatingWhitespace</b>()&#160;&#160;&#160;_startEatingWhitespace(state)</td></tr>
<tr class="separator:aae2488ff1109255657e7c470a0a25de1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf8d3cd16bf380083347fbb67376c380"><td class="memItemLeft" align="right" valign="top"><a id="aaf8d3cd16bf380083347fbb67376c380"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>stopEatingWhitespace</b>()&#160;&#160;&#160;_stopEatingWhitespace(state)</td></tr>
<tr class="separator:aaf8d3cd16bf380083347fbb67376c380"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae660a262f9a5d0cd8291b95e8eeb335c"><td class="memItemLeft" align="right" valign="top"><a id="ae660a262f9a5d0cd8291b95e8eeb335c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>consume</b>(...)&#160;&#160;&#160;_consume(state,__VA_ARGS__)</td></tr>
<tr class="separator:ae660a262f9a5d0cd8291b95e8eeb335c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb722db7a07e36e149cf62d91617a5f8"><td class="memItemLeft" align="right" valign="top"><a id="acb722db7a07e36e149cf62d91617a5f8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>check</b>(t)&#160;&#160;&#160;_check(state,t)</td></tr>
<tr class="separator:acb722db7a07e36e149cf62d91617a5f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25a32a4c5cae9481addf4c0951a387c8"><td class="memItemLeft" align="right" valign="top"><a id="a25a32a4c5cae9481addf4c0951a387c8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>match</b>(t)&#160;&#160;&#160;_match(state,t)</td></tr>
<tr class="separator:a25a32a4c5cae9481addf4c0951a387c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0673c5eb4c8e57116a8c7af7acec2b0b"><td class="memItemLeft" align="right" valign="top"><a id="a0673c5eb4c8e57116a8c7af7acec2b0b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>syntheticToken</b>(t)&#160;&#160;&#160;_syntheticToken(state,t)</td></tr>
<tr class="separator:a0673c5eb4c8e57116a8c7af7acec2b0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4eb74aabd59cad91e4a88243ad01cb68"><td class="memItemLeft" align="right" valign="top"><a id="a4eb74aabd59cad91e4a88243ad01cb68"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>emitByte</b>(b)&#160;&#160;&#160;_emitByte(state,b)</td></tr>
<tr class="separator:a4eb74aabd59cad91e4a88243ad01cb68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5f2107fe919f4541aac1ad49f4d6ad2"><td class="memItemLeft" align="right" valign="top"><a id="ad5f2107fe919f4541aac1ad49f4d6ad2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>emitBytes</b>(a,  b)&#160;&#160;&#160;_emitBytes(state,a,b)</td></tr>
<tr class="separator:ad5f2107fe919f4541aac1ad49f4d6ad2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62ea28dee4f1c0bcc2fd679b7ffd8020"><td class="memItemLeft" align="right" valign="top"><a id="a62ea28dee4f1c0bcc2fd679b7ffd8020"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>emitConstant</b>(v)&#160;&#160;&#160;_emitConstant(state,v)</td></tr>
<tr class="separator:a62ea28dee4f1c0bcc2fd679b7ffd8020"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6677edf873e3f8706b25a10b0268ab9b"><td class="memItemLeft" align="right" valign="top"><a id="a6677edf873e3f8706b25a10b0268ab9b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>emitJump</b>(o)&#160;&#160;&#160;_emitJump(state,o)</td></tr>
<tr class="separator:a6677edf873e3f8706b25a10b0268ab9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a256b07772eebb69b37e88d832b7d00f4"><td class="memItemLeft" align="right" valign="top"><a id="a256b07772eebb69b37e88d832b7d00f4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>patchJump</b>(o)&#160;&#160;&#160;_patchJump(state,o)</td></tr>
<tr class="separator:a256b07772eebb69b37e88d832b7d00f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84b563276d7c5f9a4343b91deb165fe5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>ATTACH_PROPERTY</b>(propName,  how,  propValue)</td></tr>
<tr class="separator:a84b563276d7c5f9a4343b91deb165fe5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1488ae537f662875e728a8a2d96695a6"><td class="memItemLeft" align="right" valign="top"><a id="a1488ae537f662875e728a8a2d96695a6"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>EXIT_JUMP_MAX</b>&#160;&#160;&#160;64</td></tr>
<tr class="separator:a1488ae537f662875e728a8a2d96695a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48d1976010ce166b81fa3462583a4e96"><td class="memItemLeft" align="right" valign="top"><a id="a48d1976010ce166b81fa3462583a4e96"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PUSH_CHAR</b>(c)&#160;&#160;&#160;<a class="el" href="util_8h.html#acc0221892b1de865b0a27a67ffc1e6d9">krk_pushStringBuilder</a>(&amp;sb, c)</td></tr>
<tr class="separator:a48d1976010ce166b81fa3462583a4e96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adeef499e230c9bc1f01afbbae216fb32"><td class="memItemLeft" align="right" valign="top"><a id="adeef499e230c9bc1f01afbbae216fb32"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PUSH_HEX</b>(n,  type)&#160;&#160;&#160;_pushHex(state, isBytes, &amp;sb, c, end, n, type)</td></tr>
<tr class="separator:adeef499e230c9bc1f01afbbae216fb32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72b15a0fb5a174e116ebb784f9dfb6d9"><td class="memItemLeft" align="right" valign="top"><a id="a72b15a0fb5a174e116ebb784f9dfb6d9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>OP_NONE_LONG</b>&#160;&#160;&#160;-1</td></tr>
<tr class="separator:a72b15a0fb5a174e116ebb784f9dfb6d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb7a7a5121f8b0fc5c00cda60f64ea3c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>DO_VARIABLE</b>(opset,  opget,  opdel)</td></tr>
<tr class="separator:acb7a7a5121f8b0fc5c00cda60f64ea3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6c6834c3abc1f712b7cc21df7a548c8"><td class="memItemLeft" align="right" valign="top"><a id="ad6c6834c3abc1f712b7cc21df7a548c8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RULE</b>(token,  a,  b,  c)&#160;&#160;&#160;[TOKEN_ ## token] = {a, b, c}</td></tr>
<tr class="separator:ad6c6834c3abc1f712b7cc21df7a548c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ad6ead4923a2d1c3f70b52302237aa99c"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compiler_8c.html#ad6ead4923a2d1c3f70b52302237aa99c">ParseFn</a>) (struct <a class="el" href="structGlobalState.html">GlobalState</a> *, int, struct <a class="el" href="structRewindState.html">RewindState</a> *)</td></tr>
<tr class="memdesc:ad6ead4923a2d1c3f70b52302237aa99c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subexpression parser function.  <a href="compiler_8c.html#ad6ead4923a2d1c3f70b52302237aa99c">More...</a><br /></td></tr>
<tr class="separator:ad6ead4923a2d1c3f70b52302237aa99c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59d46fe4edc33c8cc818e3aced56de29"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structCompiler.html">Compiler</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compiler_8c.html#a59d46fe4edc33c8cc818e3aced56de29">Compiler</a></td></tr>
<tr class="memdesc:a59d46fe4edc33c8cc818e3aced56de29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subcompiler state.  <a href="compiler_8c.html#a59d46fe4edc33c8cc818e3aced56de29">More...</a><br /></td></tr>
<tr class="separator:a59d46fe4edc33c8cc818e3aced56de29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2ceaa6082b504b725bc6dd33d1d5f22"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structClassCompiler.html">ClassCompiler</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compiler_8c.html#ac2ceaa6082b504b725bc6dd33d1d5f22">ClassCompiler</a></td></tr>
<tr class="memdesc:ac2ceaa6082b504b725bc6dd33d1d5f22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class compilation context.  <a href="compiler_8c.html#ac2ceaa6082b504b725bc6dd33d1d5f22">More...</a><br /></td></tr>
<tr class="separator:ac2ceaa6082b504b725bc6dd33d1d5f22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af43295b553f14bc55a60680e476124ce"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structChunkRecorder.html">ChunkRecorder</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compiler_8c.html#af43295b553f14bc55a60680e476124ce">ChunkRecorder</a></td></tr>
<tr class="memdesc:af43295b553f14bc55a60680e476124ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bytecode emitter backtracking breadcrumb.  <a href="compiler_8c.html#af43295b553f14bc55a60680e476124ce">More...</a><br /></td></tr>
<tr class="separator:af43295b553f14bc55a60680e476124ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9576f26f3cd067da78c96b13ed858d7d"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structRewindState.html">RewindState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compiler_8c.html#a9576f26f3cd067da78c96b13ed858d7d">RewindState</a></td></tr>
<tr class="memdesc:a9576f26f3cd067da78c96b13ed858d7d"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structCompiler.html" title="Subcompiler state.">Compiler</a> emit and parse state prior to this expression.  <a href="compiler_8c.html#a9576f26f3cd067da78c96b13ed858d7d">More...</a><br /></td></tr>
<tr class="separator:a9576f26f3cd067da78c96b13ed858d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76646a335450e035e5cb7f0bd86126a4"><td class="memItemLeft" align="right" valign="top"><a id="a76646a335450e035e5cb7f0bd86126a4"></a>
typedef struct <a class="el" href="structGlobalState.html">GlobalState</a>&#160;</td><td class="memItemRight" valign="bottom"><b>GlobalState</b></td></tr>
<tr class="separator:a76646a335450e035e5cb7f0bd86126a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:aa4e7d1a473d0280792d98ddb184d3006"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compiler_8c.html#aa4e7d1a473d0280792d98ddb184d3006">Precedence</a> { <br />
&#160;&#160;<b>PREC_NONE</b>
, <a class="el" href="compiler_8c.html#aa4e7d1a473d0280792d98ddb184d3006a5576e7223ab7e815dc3f0daefcaf5fe3">PREC_ASSIGNMENT</a>
, <a class="el" href="compiler_8c.html#aa4e7d1a473d0280792d98ddb184d3006ab1129d044f7e5ad7620fc5287546977c">PREC_COMMA</a>
, <a class="el" href="compiler_8c.html#aa4e7d1a473d0280792d98ddb184d3006a860c0bc6fe09f132782d02960e9fad23">PREC_MUST_ASSIGN</a>
, <br />
&#160;&#160;<a class="el" href="compiler_8c.html#aa4e7d1a473d0280792d98ddb184d3006a1b335cb429809ee88f19faee0c821f22">PREC_CAN_ASSIGN</a>
, <a class="el" href="compiler_8c.html#aa4e7d1a473d0280792d98ddb184d3006a24b50ce6ef61bf8619cdc50f6a0d2bf8">PREC_DEL_TARGET</a>
, <a class="el" href="compiler_8c.html#aa4e7d1a473d0280792d98ddb184d3006a122c9ef452758a42dee79a4b3a7ac283">PREC_TERNARY</a>
, <a class="el" href="compiler_8c.html#aa4e7d1a473d0280792d98ddb184d3006a461532d1f6f71dc9a5f506644cdad7e5">PREC_OR</a>
, <br />
&#160;&#160;<a class="el" href="compiler_8c.html#aa4e7d1a473d0280792d98ddb184d3006afd1def1a9d1ac4d3e573e407227c8f56">PREC_AND</a>
, <a class="el" href="compiler_8c.html#aa4e7d1a473d0280792d98ddb184d3006abab85b072ef565d8173e92329a0d1ee6">PREC_NOT</a>
, <a class="el" href="compiler_8c.html#aa4e7d1a473d0280792d98ddb184d3006a97393227c3b9b3664833fb648de3c8af">PREC_COMPARISON</a>
, <a class="el" href="compiler_8c.html#aa4e7d1a473d0280792d98ddb184d3006ac4ff20b52b3f2128018de1a263cc83dd">PREC_BITOR</a>
, <br />
&#160;&#160;<a class="el" href="compiler_8c.html#aa4e7d1a473d0280792d98ddb184d3006a1b585be9a367424ddaec7ed1bdc36190">PREC_BITXOR</a>
, <a class="el" href="compiler_8c.html#aa4e7d1a473d0280792d98ddb184d3006ad95aa857c27cf695f1f0f48bd1c0b371">PREC_BITAND</a>
, <a class="el" href="compiler_8c.html#aa4e7d1a473d0280792d98ddb184d3006a2a8605af70bc30b107eb374ba1fa24f1">PREC_SHIFT</a>
, <a class="el" href="compiler_8c.html#aa4e7d1a473d0280792d98ddb184d3006a1f7fca3cd04736b6a8dd35bbd9641e22">PREC_SUM</a>
, <br />
&#160;&#160;<a class="el" href="compiler_8c.html#aa4e7d1a473d0280792d98ddb184d3006af8854b546d1ca4c09e1f8684a3cd6af3">PREC_TERM</a>
, <a class="el" href="compiler_8c.html#aa4e7d1a473d0280792d98ddb184d3006a512d339d43a8a07254dc51ae5cbf61de">PREC_FACTOR</a>
, <a class="el" href="compiler_8c.html#aa4e7d1a473d0280792d98ddb184d3006a6fa74d146d9f43c862990fc8357cb95e">PREC_EXPONENT</a>
, <a class="el" href="compiler_8c.html#aa4e7d1a473d0280792d98ddb184d3006a59b5adac5b20fde37b2be48df04b90de">PREC_PRIMARY</a>
<br />
 }</td></tr>
<tr class="memdesc:aa4e7d1a473d0280792d98ddb184d3006"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse precedence ladder.  <a href="compiler_8c.html#aa4e7d1a473d0280792d98ddb184d3006">More...</a><br /></td></tr>
<tr class="separator:aa4e7d1a473d0280792d98ddb184d3006"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51ad9989dafb48362f7e9354d68fe720"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compiler_8c.html#a51ad9989dafb48362f7e9354d68fe720">ExpressionType</a> { <br />
&#160;&#160;<a class="el" href="compiler_8c.html#a51ad9989dafb48362f7e9354d68fe720a82c658504c3d40026ccf52f28f03a2d7">EXPR_NORMAL</a>
, <a class="el" href="compiler_8c.html#a51ad9989dafb48362f7e9354d68fe720adfc5865ea12eb08b9bc3bb7e949fe11d">EXPR_CAN_ASSIGN</a>
, <a class="el" href="compiler_8c.html#a51ad9989dafb48362f7e9354d68fe720a8c13abebc0e8907a4fa991269232889f">EXPR_ASSIGN_TARGET</a>
, <a class="el" href="compiler_8c.html#a51ad9989dafb48362f7e9354d68fe720ad763e085c380640a55bd5af74630a8b1">EXPR_DEL_TARGET</a>
, <br />
&#160;&#160;<a class="el" href="compiler_8c.html#a51ad9989dafb48362f7e9354d68fe720a60911b869d3b48352c85316ac72d035d">EXPR_METHOD_CALL</a>
, <b>EXPR_CLASS_PARAMETERS</b>
<br />
 }</td></tr>
<tr class="memdesc:a51ad9989dafb48362f7e9354d68fe720"><td class="mdescLeft">&#160;</td><td class="mdescRight">Expression type.  <a href="compiler_8c.html#a51ad9989dafb48362f7e9354d68fe720">More...</a><br /></td></tr>
<tr class="separator:a51ad9989dafb48362f7e9354d68fe720"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42a11575cc237e37732d560240e04371"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compiler_8c.html#a42a11575cc237e37732d560240e04371">FunctionType</a> { <br />
&#160;&#160;<a class="el" href="compiler_8c.html#a42a11575cc237e37732d560240e04371ae40264fa7bcc3bc4091d70ddd42bd542">TYPE_FUNCTION</a>
, <a class="el" href="compiler_8c.html#a42a11575cc237e37732d560240e04371a92ba21ab3fe832269995363a2e6b3da9">TYPE_MODULE</a>
, <a class="el" href="compiler_8c.html#a42a11575cc237e37732d560240e04371abf0e62d3dbb634bfccdd316fe233d4b5">TYPE_METHOD</a>
, <a class="el" href="compiler_8c.html#a42a11575cc237e37732d560240e04371a4729ed6ecbf171646988a23c0631c4c8">TYPE_INIT</a>
, <br />
&#160;&#160;<a class="el" href="compiler_8c.html#a42a11575cc237e37732d560240e04371aa84d32e1e07c8d5ed472dc5a906a961a">TYPE_LAMBDA</a>
, <a class="el" href="compiler_8c.html#a42a11575cc237e37732d560240e04371a94f2c8df1135a7d087e9ab24a52ab57f">TYPE_STATIC</a>
, <a class="el" href="compiler_8c.html#a42a11575cc237e37732d560240e04371ae3c05d01e5713b8e32e46fb33c279e62">TYPE_CLASS</a>
, <a class="el" href="compiler_8c.html#a42a11575cc237e37732d560240e04371aa249fd66ca26d698bb5fb2f4e39406fc">TYPE_CLASSMETHOD</a>
, <br />
&#160;&#160;<a class="el" href="compiler_8c.html#a42a11575cc237e37732d560240e04371a486bdd4c6fe5f20bf2b012e573f95b4c">TYPE_COROUTINE</a>
, <a class="el" href="compiler_8c.html#a42a11575cc237e37732d560240e04371a27ce28b4b152891e5150a4897cb5e657">TYPE_COROUTINE_METHOD</a>
<br />
 }</td></tr>
<tr class="memdesc:a42a11575cc237e37732d560240e04371"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function compilation type.  <a href="compiler_8c.html#a42a11575cc237e37732d560240e04371">More...</a><br /></td></tr>
<tr class="separator:a42a11575cc237e37732d560240e04371"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab913072d7c77cad706dabc00df9b10fb"><td class="memItemLeft" align="right" valign="top"><a id="ab913072d7c77cad706dabc00df9b10fb"></a>
_noexport void&#160;</td><td class="memItemRight" valign="bottom"><b>_createAndBind_compilerClass</b> (void)</td></tr>
<tr class="separator:ab913072d7c77cad706dabc00df9b10fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acab3272031ba406c0aa9ce777a50ce77"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structKrkCodeObject.html">KrkCodeObject</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compiler_8c.html#acab3272031ba406c0aa9ce777a50ce77">krk_compile</a> (const char *src, char *fileName)</td></tr>
<tr class="memdesc:acab3272031ba406c0aa9ce777a50ce77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compile a source string to bytecode.  <a href="compiler_8c.html#acab3272031ba406c0aa9ce777a50ce77">More...</a><br /></td></tr>
<tr class="separator:acab3272031ba406c0aa9ce777a50ce77"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a003a23e5dd1b68446f27a7a866f736bc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structParseRule.html">ParseRule</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compiler_8c.html#a003a23e5dd1b68446f27a7a866f736bc">krk_parseRules</a> []</td></tr>
<tr class="memdesc:a003a23e5dd1b68446f27a7a866f736bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse rules table.  <a href="compiler_8c.html#a003a23e5dd1b68446f27a7a866f736bc">More...</a><br /></td></tr>
<tr class="separator:a003a23e5dd1b68446f27a7a866f736bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Single-pass bytecode compiler. </p>
<p>Kuroko's compiler is still very reminiscent of its CLox roots and uses the same parsing strategy, so if you have read the third chapter of Bob's "Crafting Interpreters", this should should be fairly easy to understand. One important thing that Kuroko's compiler does differently is implement rewinding, which allows for conservative reparsing and recompilation of subexpressions that have already been parsed. This is used to compile ternaries, multiple assignments, and the expression value in generator and comprehension expressions.</p>
<p>Kuroko has several levels of parse precedence, including three different levels indicative of assignments. Most expressions start from the TERNARY or COMMA level, but top-level expression statements and assignment values start at the highest level of ASSIGNMENT, which allows for multiple assignment targets. Expressions parsed from the MUST_ASSIGN level are assignment targets in a multiple assignment. Expression parsed from the CAN_ASSIGN level are single assignment targets.</p>
<p>String compilation manages escape sequence processing, so string tokens received from the scanner are not directly converted to string constants. F-strings are compiled as expressions generating a regular string.</p>
<p>Kuroko's bytecode supports variable operand sizes using paired "short" and "long" opcodes. To ease the output of these opcodes, the EMIT_OPERAND_OP macro will generate the appropriate opcode given an operand. </p>

<p class="definition">Definition in file <a class="el" href="compiler_8c_source.html">compiler.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a84b563276d7c5f9a4343b91deb165fe5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84b563276d7c5f9a4343b91deb165fe5">&#9670;&nbsp;</a></span>ATTACH_PROPERTY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ATTACH_PROPERTY</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">propName, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">how, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">propValue&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span> { \</div>
<div class="line">    KrkToken val_tok = syntheticToken(propValue); \</div>
<div class="line">    size_t val_ind = nonidentifierTokenConstant(state, &amp;val_tok); \</div>
<div class="line">    EMIT_OPERAND_OP(how, val_ind); \</div>
<div class="line">    KrkToken name_tok = syntheticToken(propName); \</div>
<div class="line">    size_t name_ind = identifierConstant(state, &amp;name_tok); \</div>
<div class="line">    EMIT_OPERAND_OP(OP_SET_NAME, name_ind); \</div>
<div class="line">    emitByte(OP_POP); \</div>
<div class="line">} <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="compiler_8c_source.html#l01648">1648</a> of file <a class="el" href="compiler_8c_source.html">compiler.c</a>.</p>

</div>
</div>
<a id="acb7a7a5121f8b0fc5c00cda60f64ea3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb7a7a5121f8b0fc5c00cda60f64ea3c">&#9670;&nbsp;</a></span>DO_VARIABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DO_VARIABLE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">opset, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">opget, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">opdel&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span> { \</div>
<div class="line">    if (exprType == <a class="code" href="compiler_8c.html#a51ad9989dafb48362f7e9354d68fe720a8c13abebc0e8907a4fa991269232889f">EXPR_ASSIGN_TARGET</a>) { \</div>
<div class="line">        if (matchComplexEnd(state)) { \</div>
<div class="line">            EMIT_OPERAND_OP(opset, arg); \</div>
<div class="line">            break; \</div>
<div class="line">        } \</div>
<div class="line">        exprType = <a class="code" href="compiler_8c.html#a51ad9989dafb48362f7e9354d68fe720a82c658504c3d40026ccf52f28f03a2d7">EXPR_NORMAL</a>; \</div>
<div class="line">    } \</div>
<div class="line">    if (exprType == <a class="code" href="compiler_8c.html#a51ad9989dafb48362f7e9354d68fe720adfc5865ea12eb08b9bc3bb7e949fe11d">EXPR_CAN_ASSIGN</a> &amp;&amp; match(TOKEN_EQUAL)) { \</div>
<div class="line">        parsePrecedence(state, <a class="code" href="compiler_8c.html#aa4e7d1a473d0280792d98ddb184d3006a5576e7223ab7e815dc3f0daefcaf5fe3">PREC_ASSIGNMENT</a>); \</div>
<div class="line">        EMIT_OPERAND_OP(opset, arg); \</div>
<div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (exprType == <a class="code" href="compiler_8c.html#a51ad9989dafb48362f7e9354d68fe720adfc5865ea12eb08b9bc3bb7e949fe11d">EXPR_CAN_ASSIGN</a> &amp;&amp; matchAssignment(state)) { \</div>
<div class="line">        EMIT_OPERAND_OP(opget, arg); \</div>
<div class="line">        assignmentValue(state); \</div>
<div class="line">        EMIT_OPERAND_OP(opset, arg); \</div>
<div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (exprType == <a class="code" href="compiler_8c.html#a51ad9989dafb48362f7e9354d68fe720ad763e085c380640a55bd5af74630a8b1">EXPR_DEL_TARGET</a> &amp;&amp; checkEndOfDel(state)) {\</div>
<div class="line">        if (opdel == OP_NONE) { emitByte(OP_NONE); EMIT_OPERAND_OP(opset, arg); } \</div>
<div class="line">        else { EMIT_OPERAND_OP(opdel, arg); } \</div>
<div class="line">    } <span class="keywordflow">else</span> { \</div>
<div class="line">        EMIT_OPERAND_OP(opget, arg); \</div>
<div class="line">    } } <span class="keywordflow">while</span> (0)</div>
<div class="ttc" id="acompiler_8c_html_a51ad9989dafb48362f7e9354d68fe720a82c658504c3d40026ccf52f28f03a2d7"><div class="ttname"><a href="compiler_8c.html#a51ad9989dafb48362f7e9354d68fe720a82c658504c3d40026ccf52f28f03a2d7">EXPR_NORMAL</a></div><div class="ttdeci">@ EXPR_NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="compiler_8c_source.html#l00098">compiler.c:98</a></div></div>
<div class="ttc" id="acompiler_8c_html_a51ad9989dafb48362f7e9354d68fe720a8c13abebc0e8907a4fa991269232889f"><div class="ttname"><a href="compiler_8c.html#a51ad9989dafb48362f7e9354d68fe720a8c13abebc0e8907a4fa991269232889f">EXPR_ASSIGN_TARGET</a></div><div class="ttdeci">@ EXPR_ASSIGN_TARGET</div><div class="ttdef"><b>Definition:</b> <a href="compiler_8c_source.html#l00100">compiler.c:100</a></div></div>
<div class="ttc" id="acompiler_8c_html_a51ad9989dafb48362f7e9354d68fe720ad763e085c380640a55bd5af74630a8b1"><div class="ttname"><a href="compiler_8c.html#a51ad9989dafb48362f7e9354d68fe720ad763e085c380640a55bd5af74630a8b1">EXPR_DEL_TARGET</a></div><div class="ttdeci">@ EXPR_DEL_TARGET</div><div class="ttdef"><b>Definition:</b> <a href="compiler_8c_source.html#l00101">compiler.c:101</a></div></div>
<div class="ttc" id="acompiler_8c_html_a51ad9989dafb48362f7e9354d68fe720adfc5865ea12eb08b9bc3bb7e949fe11d"><div class="ttname"><a href="compiler_8c.html#a51ad9989dafb48362f7e9354d68fe720adfc5865ea12eb08b9bc3bb7e949fe11d">EXPR_CAN_ASSIGN</a></div><div class="ttdeci">@ EXPR_CAN_ASSIGN</div><div class="ttdef"><b>Definition:</b> <a href="compiler_8c_source.html#l00099">compiler.c:99</a></div></div>
<div class="ttc" id="acompiler_8c_html_aa4e7d1a473d0280792d98ddb184d3006a5576e7223ab7e815dc3f0daefcaf5fe3"><div class="ttname"><a href="compiler_8c.html#aa4e7d1a473d0280792d98ddb184d3006a5576e7223ab7e815dc3f0daefcaf5fe3">PREC_ASSIGNMENT</a></div><div class="ttdeci">@ PREC_ASSIGNMENT</div><div class="ttdef"><b>Definition:</b> <a href="compiler_8c_source.html#l00071">compiler.c:71</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="compiler_8c_source.html#l02985">2985</a> of file <a class="el" href="compiler_8c_source.html">compiler.c</a>.</p>

</div>
</div>
<a id="a7edc3c2e7b191b6c3d34dcc8ec523987"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7edc3c2e7b191b6c3d34dcc8ec523987">&#9670;&nbsp;</a></span>EMIT_OPERAND_OP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EMIT_OPERAND_OP</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">opc, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">arg&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span> { <span class="keywordflow">if</span> (arg &lt; 256) { emitBytes(opc, arg); } \</div>
<div class="line">    else { emitBytes(opc ## _LONG, arg &gt;&gt; 16); emitBytes(arg &gt;&gt; 8, arg); } } <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="compiler_8c_source.html#l00299">299</a> of file <a class="el" href="compiler_8c_source.html">compiler.c</a>.</p>

</div>
</div>
<a id="a196e029eb2adc9808b1e6928e3e1ce23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a196e029eb2adc9808b1e6928e3e1ce23">&#9670;&nbsp;</a></span>WRITE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WRITE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">s</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span> { \</div>
<div class="line">    size_t len = strlen(s); \</div>
<div class="line">    if (writer - len &lt; space) <span class="keywordflow">goto</span> _exit; \</div>
<div class="line">    writer -= len; \</div>
<div class="line">    memcpy(writer, s, len); \</div>
<div class="line">} <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="af43295b553f14bc55a60680e476124ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af43295b553f14bc55a60680e476124ce">&#9670;&nbsp;</a></span>ChunkRecorder</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structChunkRecorder.html">ChunkRecorder</a> <a class="el" href="structChunkRecorder.html">ChunkRecorder</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bytecode emitter backtracking breadcrumb. </p>
<p>Records the state of the bytecode emitter so it may be rewound when an expression needs to be re-parsed. Allows us to implement backtracking to compile the inner expression of a comprehension, the left hand side of a ternary, or the targets list of a complex assignment.</p>
<p>We rewind the bytecode, line mapping, and constants table, so that we don't keep around duplicate constants or debug info. </p>

</div>
</div>
<a id="ac2ceaa6082b504b725bc6dd33d1d5f22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2ceaa6082b504b725bc6dd33d1d5f22">&#9670;&nbsp;</a></span>ClassCompiler</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structClassCompiler.html">ClassCompiler</a> <a class="el" href="structClassCompiler.html">ClassCompiler</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Class compilation context. </p>
<p>Allows for things like super to be bound correctly. Also allows us to establish qualified names for functions and nested class definitions. </p>

</div>
</div>
<a id="a59d46fe4edc33c8cc818e3aced56de29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59d46fe4edc33c8cc818e3aced56de29">&#9670;&nbsp;</a></span>Compiler</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structCompiler.html">Compiler</a> <a class="el" href="structCompiler.html">Compiler</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Subcompiler state. </p>
<p>Each function is compiled in its own context, with its own codeobject, locals, type, scopes, etc. </p>

</div>
</div>
<a id="ad6ead4923a2d1c3f70b52302237aa99c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6ead4923a2d1c3f70b52302237aa99c">&#9670;&nbsp;</a></span>ParseFn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* ParseFn) (struct <a class="el" href="structGlobalState.html">GlobalState</a> *, int, struct <a class="el" href="structRewindState.html">RewindState</a> *)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Subexpression parser function. </p>
<p>Used by the parse rule table for infix and prefix expression parser functions. The argument passed is the <a class="el" href="compiler_8c.html#a51ad9989dafb48362f7e9354d68fe720">ExpressionType</a> to compile the expression as. </p>

<p class="definition">Definition at line <a class="el" href="compiler_8c_source.html#l00116">116</a> of file <a class="el" href="compiler_8c_source.html">compiler.c</a>.</p>

</div>
</div>
<a id="a9576f26f3cd067da78c96b13ed858d7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9576f26f3cd067da78c96b13ed858d7d">&#9670;&nbsp;</a></span>RewindState</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structRewindState.html">RewindState</a> <a class="el" href="structRewindState.html">RewindState</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="structCompiler.html" title="Subcompiler state.">Compiler</a> emit and parse state prior to this expression. </p>
<p>Used to rewind the parser for ternary and comma expressions. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a51ad9989dafb48362f7e9354d68fe720"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51ad9989dafb48362f7e9354d68fe720">&#9670;&nbsp;</a></span>ExpressionType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="compiler_8c.html#a51ad9989dafb48362f7e9354d68fe720">ExpressionType</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Expression type. </p>
<p>Determines how an expression should be compiled. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a51ad9989dafb48362f7e9354d68fe720a82c658504c3d40026ccf52f28f03a2d7"></a>EXPR_NORMAL&#160;</td><td class="fielddoc"><p>This expression can not be an assignment target. </p>
</td></tr>
<tr><td class="fieldname"><a id="a51ad9989dafb48362f7e9354d68fe720adfc5865ea12eb08b9bc3bb7e949fe11d"></a>EXPR_CAN_ASSIGN&#160;</td><td class="fielddoc"><p>This expression may be an assignment target, check for assignment operators at the end. </p>
</td></tr>
<tr><td class="fieldname"><a id="a51ad9989dafb48362f7e9354d68fe720a8c13abebc0e8907a4fa991269232889f"></a>EXPR_ASSIGN_TARGET&#160;</td><td class="fielddoc"><p>This expression is definitely an assignment target or chained to one. </p>
</td></tr>
<tr><td class="fieldname"><a id="a51ad9989dafb48362f7e9354d68fe720ad763e085c380640a55bd5af74630a8b1"></a>EXPR_DEL_TARGET&#160;</td><td class="fielddoc"><p>This expression is in the target list of a 'del' statement. </p>
</td></tr>
<tr><td class="fieldname"><a id="a51ad9989dafb48362f7e9354d68fe720a60911b869d3b48352c85316ac72d035d"></a>EXPR_METHOD_CALL&#160;</td><td class="fielddoc"><p>This expression is the parameter list of a method call; only used by dot and call </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="compiler_8c_source.html#l00097">97</a> of file <a class="el" href="compiler_8c_source.html">compiler.c</a>.</p>

</div>
</div>
<a id="a42a11575cc237e37732d560240e04371"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42a11575cc237e37732d560240e04371">&#9670;&nbsp;</a></span>FunctionType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="compiler_8c.html#a42a11575cc237e37732d560240e04371">FunctionType</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function compilation type. </p>
<p>Determines the context of the function being compiled, as different kinds of functions have different semantics. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a42a11575cc237e37732d560240e04371ae40264fa7bcc3bc4091d70ddd42bd542"></a>TYPE_FUNCTION&#160;</td><td class="fielddoc"><p>Normal 'def' function. </p>
</td></tr>
<tr><td class="fieldname"><a id="a42a11575cc237e37732d560240e04371a92ba21ab3fe832269995363a2e6b3da9"></a>TYPE_MODULE&#160;</td><td class="fielddoc"><p>Top level of a script. </p>
</td></tr>
<tr><td class="fieldname"><a id="a42a11575cc237e37732d560240e04371abf0e62d3dbb634bfccdd316fe233d4b5"></a>TYPE_METHOD&#160;</td><td class="fielddoc"><p>Class method with <code>self</code> binding. </p>
</td></tr>
<tr><td class="fieldname"><a id="a42a11575cc237e37732d560240e04371a4729ed6ecbf171646988a23c0631c4c8"></a>TYPE_INIT&#160;</td><td class="fielddoc"><p>Class __init__ </p>
</td></tr>
<tr><td class="fieldname"><a id="a42a11575cc237e37732d560240e04371aa84d32e1e07c8d5ed472dc5a906a961a"></a>TYPE_LAMBDA&#160;</td><td class="fielddoc"><p>Lambda expression body, must be a single expression. </p>
</td></tr>
<tr><td class="fieldname"><a id="a42a11575cc237e37732d560240e04371a94f2c8df1135a7d087e9ab24a52ab57f"></a>TYPE_STATIC&#160;</td><td class="fielddoc"><p>Static class method, no <code>self</code> binding. </p>
</td></tr>
<tr><td class="fieldname"><a id="a42a11575cc237e37732d560240e04371ae3c05d01e5713b8e32e46fb33c279e62"></a>TYPE_CLASS&#160;</td><td class="fielddoc"><p>Class body, not a normal series of declarations. </p>
</td></tr>
<tr><td class="fieldname"><a id="a42a11575cc237e37732d560240e04371aa249fd66ca26d698bb5fb2f4e39406fc"></a>TYPE_CLASSMETHOD&#160;</td><td class="fielddoc"><p>Class method, binds first argument to the class. </p>
</td></tr>
<tr><td class="fieldname"><a id="a42a11575cc237e37732d560240e04371a486bdd4c6fe5f20bf2b012e573f95b4c"></a>TYPE_COROUTINE&#160;</td><td class="fielddoc"><p><code>await def</code> function. </p>
</td></tr>
<tr><td class="fieldname"><a id="a42a11575cc237e37732d560240e04371a27ce28b4b152891e5150a4897cb5e657"></a>TYPE_COROUTINE_METHOD&#160;</td><td class="fielddoc"><p><code>await def</code> class method. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="compiler_8c_source.html#l00160">160</a> of file <a class="el" href="compiler_8c_source.html">compiler.c</a>.</p>

</div>
</div>
<a id="aa4e7d1a473d0280792d98ddb184d3006"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4e7d1a473d0280792d98ddb184d3006">&#9670;&nbsp;</a></span>Precedence</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="compiler_8c.html#aa4e7d1a473d0280792d98ddb184d3006">Precedence</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse precedence ladder. </p>
<p>Lower values (values listed first) bind more loosely than higher values (values listed later). </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aa4e7d1a473d0280792d98ddb184d3006a5576e7223ab7e815dc3f0daefcaf5fe3"></a>PREC_ASSIGNMENT&#160;</td><td class="fielddoc"><p><code>=</code> </p>
</td></tr>
<tr><td class="fieldname"><a id="aa4e7d1a473d0280792d98ddb184d3006ab1129d044f7e5ad7620fc5287546977c"></a>PREC_COMMA&#160;</td><td class="fielddoc"><p><code>,</code> </p>
</td></tr>
<tr><td class="fieldname"><a id="aa4e7d1a473d0280792d98ddb184d3006a860c0bc6fe09f132782d02960e9fad23"></a>PREC_MUST_ASSIGN&#160;</td><td class="fielddoc"><p>Multple assignment target <br  />
 </p>
</td></tr>
<tr><td class="fieldname"><a id="aa4e7d1a473d0280792d98ddb184d3006a1b335cb429809ee88f19faee0c821f22"></a>PREC_CAN_ASSIGN&#160;</td><td class="fielddoc"><p>Single assignment target, inside parens </p>
</td></tr>
<tr><td class="fieldname"><a id="aa4e7d1a473d0280792d98ddb184d3006a24b50ce6ef61bf8619cdc50f6a0d2bf8"></a>PREC_DEL_TARGET&#160;</td><td class="fielddoc"><p>Like above, but del target list </p>
</td></tr>
<tr><td class="fieldname"><a id="aa4e7d1a473d0280792d98ddb184d3006a122c9ef452758a42dee79a4b3a7ac283"></a>PREC_TERNARY&#160;</td><td class="fielddoc"><p>TrueBranch <code>if</code> Condition <code>else</code> FalseBranch </p>
</td></tr>
<tr><td class="fieldname"><a id="aa4e7d1a473d0280792d98ddb184d3006a461532d1f6f71dc9a5f506644cdad7e5"></a>PREC_OR&#160;</td><td class="fielddoc"><p><code>or</code> </p>
</td></tr>
<tr><td class="fieldname"><a id="aa4e7d1a473d0280792d98ddb184d3006afd1def1a9d1ac4d3e573e407227c8f56"></a>PREC_AND&#160;</td><td class="fielddoc"><p><code>and</code> </p>
</td></tr>
<tr><td class="fieldname"><a id="aa4e7d1a473d0280792d98ddb184d3006abab85b072ef565d8173e92329a0d1ee6"></a>PREC_NOT&#160;</td><td class="fielddoc"><p><code>not</code> </p>
</td></tr>
<tr><td class="fieldname"><a id="aa4e7d1a473d0280792d98ddb184d3006a97393227c3b9b3664833fb648de3c8af"></a>PREC_COMPARISON&#160;</td><td class="fielddoc"><p><code>&lt; &gt; &lt;= &gt;= in not in</code> </p>
</td></tr>
<tr><td class="fieldname"><a id="aa4e7d1a473d0280792d98ddb184d3006ac4ff20b52b3f2128018de1a263cc83dd"></a>PREC_BITOR&#160;</td><td class="fielddoc"><p><code>|</code> </p>
</td></tr>
<tr><td class="fieldname"><a id="aa4e7d1a473d0280792d98ddb184d3006a1b585be9a367424ddaec7ed1bdc36190"></a>PREC_BITXOR&#160;</td><td class="fielddoc"><p><code>^</code> </p>
</td></tr>
<tr><td class="fieldname"><a id="aa4e7d1a473d0280792d98ddb184d3006ad95aa857c27cf695f1f0f48bd1c0b371"></a>PREC_BITAND&#160;</td><td class="fielddoc"><p><code>&amp;</code> </p>
</td></tr>
<tr><td class="fieldname"><a id="aa4e7d1a473d0280792d98ddb184d3006a2a8605af70bc30b107eb374ba1fa24f1"></a>PREC_SHIFT&#160;</td><td class="fielddoc"><p><code>&lt;&lt; &gt;&gt;</code> </p>
</td></tr>
<tr><td class="fieldname"><a id="aa4e7d1a473d0280792d98ddb184d3006a1f7fca3cd04736b6a8dd35bbd9641e22"></a>PREC_SUM&#160;</td><td class="fielddoc"><p><code>+ -</code> </p>
</td></tr>
<tr><td class="fieldname"><a id="aa4e7d1a473d0280792d98ddb184d3006af8854b546d1ca4c09e1f8684a3cd6af3"></a>PREC_TERM&#160;</td><td class="fielddoc"><p><code>* / %</code> </p>
</td></tr>
<tr><td class="fieldname"><a id="aa4e7d1a473d0280792d98ddb184d3006a512d339d43a8a07254dc51ae5cbf61de"></a>PREC_FACTOR&#160;</td><td class="fielddoc"><p><code>+ - ~ !</code> </p>
</td></tr>
<tr><td class="fieldname"><a id="aa4e7d1a473d0280792d98ddb184d3006a6fa74d146d9f43c862990fc8357cb95e"></a>PREC_EXPONENT&#160;</td><td class="fielddoc"><p><code>**</code> </p>
</td></tr>
<tr><td class="fieldname"><a id="aa4e7d1a473d0280792d98ddb184d3006a59b5adac5b20fde37b2be48df04b90de"></a>PREC_PRIMARY&#160;</td><td class="fielddoc"><p><code>. () []</code> </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="compiler_8c_source.html#l00069">69</a> of file <a class="el" href="compiler_8c_source.html">compiler.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="acab3272031ba406c0aa9ce777a50ce77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acab3272031ba406c0aa9ce777a50ce77">&#9670;&nbsp;</a></span>krk_compile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structKrkCodeObject.html">KrkCodeObject</a>* krk_compile </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>fileName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compile a source string to bytecode. </p>
<p>Compile a string to a code object.</p>
<p>Parses source code and compiles it to bytecode.</p>
<p>Raises <a class="el" href="mod_builtins.html#SyntaxError">SyntaxError</a> on error and returns NULL if the source failed to compile.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>Code string to compile. Should be a module body or repl line. </td></tr>
    <tr><td class="paramname">fileName</td><td>Used to describe where the source string came from in error messages. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A compiled code object, or NULL on error. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">SyntaxError</td><td>if <code>src</code> could not be compiled. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="compiler_8c_source.html#l03986">3986</a> of file <a class="el" href="compiler_8c_source.html">compiler.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a003a23e5dd1b68446f27a7a866f736bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a003a23e5dd1b68446f27a7a866f736bc">&#9670;&nbsp;</a></span>krk_parseRules</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structParseRule.html">ParseRule</a> krk_parseRules[]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse rules table. </p>
<p>Each parse rule consists of a token, an prefix rule, an infix rule, and a parse precedence. We also stringify the token name for use in debugging and error messages. The rule table is indexed by token types and is constructed with a designated initializer, so the order in this file is not important; it's probably best to order either visually or syntactically related elements together. </p>

<p class="definition">Definition at line <a class="el" href="compiler_8c_source.html#l04046">4046</a> of file <a class="el" href="compiler_8c_source.html">compiler.c</a>.</p>

</div>
</div>
</div><!-- contents -->
      <footer class="container text-center mb-3">
        <p class="mb-0">Copyright 2020-2022 <a href="https://github.com/klange">K. Lange</a></p>
        <p class="mb-0">Generated by <a href="http://www.doxygen.org/index.html"><img class="footer" style="height: 20px;" src="doxygen.png" alt="doxygen"/></a> 1.9.1</p>
      </footer>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
  </body>
</html>
